---
phase: 01-project-foundation-core-engine
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/calculator/__init__.py
  - src/calculator/main.py
  - src/calculator/logic/__init__.py
  - src/calculator/ui/__init__.py
  - src/calculator/controller/__init__.py
  - src/calculator/config/__init__.py
  - src/calculator/config/constants.py
  - src/calculator/config/locale.py
  - requirements.txt
  - .gitignore
autonomous: true

must_haves:
  truths:
    - "Project has src/calculator/ directory with logic/, ui/, controller/, config/ submodules"
    - "requirements.txt lists simpleeval as production dependency"
    - ".gitignore excludes Python artifacts (__pycache__, .pyc, venv/, .env)"
    - "Polish error strings are centralized in config/locale.py"
    - "All __init__.py files exist so packages are importable"
  artifacts:
    - path: "src/calculator/config/locale.py"
      provides: "Centralized Polish UI strings for error messages"
      contains: "ERROR_DIVISION_BY_ZERO"
    - path: "src/calculator/config/constants.py"
      provides: "Calculator configuration constants (precision, rounding)"
      contains: "DECIMAL_PRECISION"
    - path: "requirements.txt"
      provides: "Python dependencies"
      contains: "simpleeval"
    - path: ".gitignore"
      provides: "Python gitignore rules"
      contains: "__pycache__"
    - path: "src/calculator/main.py"
      provides: "Application entry point stub"
      min_lines: 5
  key_links:
    - from: "src/calculator/config/locale.py"
      to: "all error-handling modules"
      via: "import from config.locale"
      pattern: "from.*config\\.locale import"
---

<objective>
Create the complete project directory structure, configuration files, and Python package scaffolding for the SciCalc calculator.

Purpose: Establish the professional project foundation that all subsequent plans build upon. Front-load the modular OOP structure (PROJ-01, PROJ-05) so logic, UI, and controller modules are cleanly separated from day one.

Output: A complete Python project skeleton with .gitignore (PROJ-03), requirements.txt (PROJ-04), config modules (locale.py with Polish strings for CALC-10, constants.py), and all __init__.py files for importable packages.
</objective>

<execution_context>
@/Users/wojciecholszak/.claude/get-shit-done/workflows/execute-plan.md
@/Users/wojciecholszak/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-project-foundation-core-engine/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create project directory structure and package files</name>
  <files>
    src/calculator/__init__.py
    src/calculator/main.py
    src/calculator/logic/__init__.py
    src/calculator/ui/__init__.py
    src/calculator/controller/__init__.py
    src/calculator/config/__init__.py
    .gitignore
    requirements.txt
  </files>
  <action>
    Create the full directory tree:
    ```
    src/
      calculator/
        __init__.py
        main.py
        logic/
          __init__.py
        ui/
          __init__.py
        controller/
          __init__.py
        config/
          __init__.py
    ```

    1. **All `__init__.py` files**: Empty files (just a docstring comment like `"""Package."""`) to make directories importable Python packages.

    2. **`src/calculator/main.py`**: Entry point stub. For Phase 1 (no GUI yet), create a simple CLI loop that reads expressions from stdin and prints results. This will be replaced with GUI entry point in Phase 2.

    ```python
    """SciCalc - Kalkulator Naukowy. Entry point."""

    def main():
        """Run calculator (CLI mode for Phase 1)."""
        from calculator.logic.calculator import CalculatorEngine
        from calculator.config.locale import MSG_WELCOME, MSG_PROMPT, MSG_EXIT

        engine = CalculatorEngine()
        print(MSG_WELCOME)

        while True:
            try:
                expression = input(MSG_PROMPT)
                if expression.lower() in ('quit', 'exit', 'q'):
                    print(MSG_EXIT)
                    break
                result = engine.calculate(expression)
                print(f"= {result}")
            except ValueError as e:
                print(f"Blad: {e}")
            except (EOFError, KeyboardInterrupt):
                print(f"\n{MSG_EXIT}")
                break

    if __name__ == "__main__":
        main()
    ```

    3. **`.gitignore`**: Use the standard Python .gitignore template from github/gitignore. Must include:
    - `__pycache__/`, `*.py[cod]`, `*$py.class`
    - `*.so`, `*.egg-info/`, `dist/`, `build/`
    - `venv/`, `.env`, `.venv/`
    - `.idea/`, `.vscode/`, `*.swp`
    - `.DS_Store`
    - `.planning/` (planning docs are separate from source)

    4. **`requirements.txt`**: Production dependencies only:
    ```
    simpleeval>=0.9.0
    ```
    Note: customtkinter will be added in Phase 2. pytest and ruff are dev dependencies (not in requirements.txt for now — keep it minimal).
  </action>
  <verify>
    Run: `python -c "import sys; sys.path.insert(0, 'src'); from calculator.config import locale; print('OK')"` — must print OK.
    Run: `ls src/calculator/logic/__init__.py src/calculator/ui/__init__.py src/calculator/controller/__init__.py src/calculator/config/__init__.py` — all must exist.
    Run: `cat requirements.txt` — must contain simpleeval.
    Run: `cat .gitignore` — must contain __pycache__.
  </verify>
  <done>
    Project has complete directory structure with all __init__.py files, .gitignore with Python patterns, and requirements.txt with simpleeval dependency. All packages are importable.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create configuration and locale modules</name>
  <files>
    src/calculator/config/constants.py
    src/calculator/config/locale.py
  </files>
  <action>
    1. **`src/calculator/config/locale.py`** — All Polish UI strings centralized. This is the SINGLE source of truth for user-facing text (CALC-10 requirement). Include:

    ```python
    """Polish UI strings for SciCalc calculator."""

    # Error messages (used by validator and evaluator)
    ERROR_DIVISION_BY_ZERO = "Nie mozna dzielic przez zero"
    ERROR_INVALID_EXPRESSION = "Nieprawidlowe wyrazenie matematyczne"
    ERROR_UNBALANCED_PARENS = "Niezrownowazone nawiasy"
    ERROR_EMPTY_EXPRESSION = "Wyrazenie jest puste"
    ERROR_TRAILING_OPERATOR = "Wyrazenie nie moze konczyc sie operatorem"
    ERROR_LEADING_OPERATOR = "Wyrazenie nie moze zaczynac sie operatorem (oprócz minus)"
    ERROR_CONSECUTIVE_OPERATORS = "Nieprawidlowe powtórzenie operatora"
    ERROR_CALCULATION = "Blad obliczenia"

    # CLI messages (Phase 1 only — will be replaced by GUI in Phase 2)
    MSG_WELCOME = "SciCalc - Kalkulator Naukowy"
    MSG_PROMPT = ">>> "
    MSG_EXIT = "Do widzenia!"

    # Button labels (future Phase 2)
    BUTTON_CLEAR = "C"
    BUTTON_EQUALS = "="
    BUTTON_DECIMAL = "."

    # Window (future Phase 2)
    WINDOW_TITLE = "Kalkulator Naukowy"
    ```

    IMPORTANT: Use Polish characters with proper UTF-8 encoding (ą, ć, ę, ł, ń, ó, ś, ź, ż). The file must have `# -*- coding: utf-8 -*-` or rely on Python 3's default UTF-8.

    2. **`src/calculator/config/constants.py`** — Calculator configuration constants:

    ```python
    """Calculator configuration constants."""

    # Decimal precision settings
    DECIMAL_PRECISION = 28  # decimal places (Python default, sufficient for calculator)
    DECIMAL_ROUNDING = "ROUND_HALF_UP"  # standard calculator rounding

    # Input limits
    MAX_EXPRESSION_LENGTH = 500  # max characters in expression
    MAX_PARENTHESES_DEPTH = 50   # max nesting depth

    # Supported operators
    OPERATORS = {'+', '-', '*', '/'}
    ```
  </action>
  <verify>
    Run: `python -c "import sys; sys.path.insert(0, 'src'); from calculator.config.locale import ERROR_DIVISION_BY_ZERO, MSG_WELCOME; print(ERROR_DIVISION_BY_ZERO); print(MSG_WELCOME)"` — must print Polish strings correctly.
    Run: `python -c "import sys; sys.path.insert(0, 'src'); from calculator.config.constants import DECIMAL_PRECISION, OPERATORS; print(DECIMAL_PRECISION); print(OPERATORS)"` — must print 28 and set of operators.
  </verify>
  <done>
    locale.py contains all Polish error messages and UI strings. constants.py contains calculator configuration. Both are importable from calculator.config.
  </done>
</task>

</tasks>

<verification>
1. Directory structure matches research recommendation: `src/calculator/{logic,ui,controller,config}/`
2. All Python packages importable: `from calculator.config.locale import ERROR_DIVISION_BY_ZERO` works
3. `.gitignore` covers standard Python patterns
4. `requirements.txt` contains `simpleeval`
5. No `eval()` anywhere in code
6. Polish characters display correctly
</verification>

<success_criteria>
- Complete project skeleton exists at src/calculator/ with all submodules
- .gitignore and requirements.txt are professional quality
- Polish locale strings are centralized and importable
- Calculator constants are defined for precision and rounding
- Project structure matches PROJ-01 (modular OOP), PROJ-03 (.gitignore), PROJ-04 (requirements.txt), PROJ-05 (src/ structure)
</success_criteria>

<output>
After completion, create `.planning/phases/01-project-foundation-core-engine/01-01-SUMMARY.md`
</output>
